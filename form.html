<html>  
    <head>
        <title>Discord Coding Lounge Form</title>
        <link rel="stylesheet" href="form.css">
        <link rel="icon" type="images/x-icon" href="https://images-ext-1.discordapp.net/external/jgT0rbtvxgXsi_-I0nYTpQFRIZUoniaG4rL0_1qZYlQ/%3Fquality%3Dlossless/https/cdn.discordapp.com/emojis/791239903945162782.png" />
    </head>
    <body>
        <form action="https://sheetdb.io/api/v1/0kdb0un576g7j" method="post" id="sheetdb-form">
            <h1>Coding Helper Applications</h1>   
            <p>
                Click <a href="index.html">here</a> to go home. All submitted information will be viewed by staff members - don't share anything personal including but not limited to passwords, adress, school, etc.
            </p>
                <div class="form-element">
                    <span>Email adress</span>
                    <input type="email" name="email" placeholder="Your Email" required="true">  
                </div>
                <div class="form-element">
                    <span>Name</span>
                    <input type="text" name="name" placeholder="Your Name" required="true">
                </div>
                <div class="form-element">
                    <span>Discord Tag</span>
                    <input type="text" name="tag" placeholder="Your Discord Tag" required="true">
                </div>
                <div class="form-element radio-buttons">
                    <span>What is your preferred programming language?</span>
                    <label for="Python">
                        <span>Python</span>
                        <input type="radio" name="query" id="Python" value="Python" required="true">
                    </label>
                    <label for="Javascript">
                        <span>Javascript</span>
                        <input type="radio" name="query" id="Javascript" value="Javascript" required="true">
                    </label>
                    <label for="C++ & Rust">
                        <span>C++ & Rust</span>
                        <input type="radio" name="query" id="C++ & Rust" value="C++ & Rust" required="true">
                    </label>
                    <label for="Elixir">
                        <span>Elixir</span>
                        <input type="radio" name="query" id="Elixir" value="Elixir" required="true">
                    </label>
                </div>
                <div class="form-element">
                    <span>Your Message</span>
                    <textarea name="message" id="" cols="30" rows="10" placeholder="Your message for the staff members.  Include information relevant to coding helpers.  This can be how you have helped others, what your bots do, etc.  Including code snippets is also advisible." required="true"></textarea>
                </div>
                    <button>Submit</button>
                </form>
            </div>

            <script>
                var form = document.getElementById('sheetdb-form');
                form.addEventListener("submit", e => {
                    e.preventDefault();
                    fetch(form.action, {
                        method : "post",
                        body: new FormData(document.getElementById("sheetdb-form")),
                    }).then(
                        response => response.json()
                    ).then((html) => {
                        window.location.replace("submitted.html") 
                    })
                })
            </script>

            <script type="text/javascript">
                window.addEventListener('beforeunload', function (f) {
                    f.preventDefault();
                    f.returnValue = '';
                });
            </script>
    </body>
</html>